---
sidebar_position: 3
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import gcalendarListingJson from '@site/static/workflows/gcalendar-listing.json';
import { WorkflowJsonTab } from '@site/src/components/WorkflowJsonTab';
import useBaseUrl from '@docusaurus/useBaseUrl';

# Google Calendar Listing Workflow

This workflow fetches a list of upcoming events from your Google Calendar using a search query and summarizes the results using AI.

> **Note:**  
> This workflow uses **two AI Data Processing nodes**, each with a tool, because the output of the first tool (Date/Time Now) is required as input for the second tool (Google Calendar Fetch Events).  
> Current smaller models (≤ 8B parameters) are not able to call the available tools sequentially—they attempt to call both tools at the same time, which leads to incorrect results.  
> If you use a larger LLM (more than 8B parameters), you can combine both tools in a single AI Data Processing node, as larger models can more reliably call tools one after the other.

<Tabs>
    <TabItem value="preview" label="Preview" default>
        ![Google Calendar Listing Workflow](/img/workflows/gcalendar-listing-preview.webp)
    </TabItem>

    <TabItem value="json" label="JSON">
        <WorkflowJsonTab downloadUrl={useBaseUrl("/workflows/gcalendar-listing.json")}>
        {JSON.stringify(gcalendarListingJson, null, 4)}
        </WorkflowJsonTab>
    </TabItem>

    <TabItem value="config" label="Node Configuration">
        - [**Data Source**](/docs/nodes/input/data-source)  
            - Input: `"Get me the next 3 calendar events coming up."`
        - [**AI Data Processing (Date/Time Context)**](/docs/nodes/ai/llm-process)  
            - Prompt: Augments the original request with current date and time information using the dateTimeNow tool
            - Tool: [Date/Time Now Tool](/docs/nodes/ai/tools/date-time-now)
            - Model: llama3.1:8b
        - [**AI Data Processing (Calendar Fetch)**](/docs/nodes/ai/llm-process)  
            - Prompt: Fetches calendar events using gcalendarFetchEvents tool and formats the output
            - Tool: [Google Calendar Fetch Events Tool](/docs/nodes/ai/tools/gcalendar-fetch-events)
            - Model: llama3.2:3b
        - [**Data Flow Spy**](/docs/nodes/output/data-flow-spy)  
            - Output: Displays the final list of upcoming calendar events
        - *(Optional)* [**Data Flow Spy**](/docs/nodes/output/data-flow-spy)  
            - Output: Used for inspecting intermediate data (time-augmented request)
    </TabItem>
</Tabs>

---

## Steps

1. **Provide Input**: The workflow starts with a Data Source node that supplies the prompt: "Get me the next 3 calendar events coming up."
2. **Add Date/Time Context**: The first AI Data Processing node uses the Date/Time Now Tool to obtain the current date and time, then augments the original request with this temporal context.
3. **Fetch Calendar Events**: The second AI Data Processing node receives the time-augmented request and uses the Google Calendar Fetch Events Tool to retrieve the upcoming events, then formats the results.
4. **Display Result**: The Data Flow Spy node displays the final formatted list of calendar events.
5. *(Optional)* **Inspect Intermediate Data**: An additional Data Flow Spy node can be used to inspect the time-augmented request between the two AI processing steps.